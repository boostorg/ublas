cmake_minimum_required(VERSION 3.12)

project("Boost.uBLAS.Test" 
	DESCRIPTION "Boost.uBLAS is part of the Boost C++ Libraries. It is directed towards scientific computing on the level of basic linear and multilinear algebra operations with tensors, matrices and vectors."
	HOMEPAGE_URL "https://github.com/boostorg/ublas")


option(BUILD_EXAMPLES    "Build the examples directory" ON)
option(BUILD_TENSOR_TEST "Build Tensor Unit Tests"      ON)
option(BUILD_BENCHMARKS  "Build Benchmarks Directory"   ON)

set(BOOST_HEADERS_DIR "" CACHE PATH "Directory of include files generated by b2 headers")

if(BOOST_HEADERS_DIR STREQUAL "")
	message(STATUS "No Boost Headers specified, Looking for System installed headers")
	find_package(Boost COMPONENTS unit_test_framework REQUIRED)
	set(BOOST_HEADERS_DIR ${Boost_INCLUDE_DIRS} CACHE PATH "System Boost Installation include Directory" FORCE)
	message(STATUS "Using Boost headers at : ${BOOST_HEADERS_DIR}. Use -DBOOST_HEADER_DIR=<path> to overwrite")
endif()

set(UBLAS_HEADER_DIR ${CMAKE_SOURCE_DIR}/include)

if(BUILD_EXAMPLES)
	message(STATUS "Examples will be build. You will have to run them manually")
	add_subdirectory(examples/tensor)
endif()

if(BUILD_TENSOR_TEST)
	message(STATUS "Tensor Unit Tests will be build. Use ctest to run the tests")
	add_subdirectory(test/tensor)
endif()

if(BUILD_BENCHMARKS)
	message(STATUS "Benchmarks will be build. You will have to run them manually")
	add_subdirectory(benchmarks)
endif()
